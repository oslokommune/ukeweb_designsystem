@use "components/form/input/mixins";
@use "system/colors";
@use "system/typography";
@use "system/spacing";
@use "system/breakpoints";

.osg-radio {
  @extend %osg-text--size-kilo, %osg-text--size-juliett-breakpoint-large;
  @extend %osg-text--weight-light;
  align-items: center;
  color: colors.$blue-dark;
  display: flex;

  &:focus-within {
    &__label {
      transform: scale(1.05);
      opacity: 1;
    }
  }

  &__required {
    @extend %osg-margin-top-1;
    @extend %osg-padding-0;
    @extend %osg-text--size-lima;
    @extend %osg-text--weight-light;
  }

  &--text-align-top {
    align-items: flex-start;

    .osg-radio__label {
      margin-top: -(5px);
    }
  }

  &__label {
    hyphens: auto;
    @extend %osg-margin-left-2;
    transition: 180ms all ease-in-out;
    opacity: 0.8;
  }

  &__input {
    align-items: inherit;
    display: flex;

    & input {
      opacity: 0;
      width: 0;
      height: 0;

      &:focus + &.osg-radio__control {
        box-shadow: 0 0 0 0.05em #fff, 0 0 0.15em 0.1em currentColor;
      }
    }
  }
  
  & input + &__control::before {
    content: "";
    width: 0.4em;
    height: 0.4em;
    box-shadow: inset 0.5em 0.5em white;
    border-radius: 50%;
    transition: 180ms transform ease-in-out;
    transform: scale(0);
  }

  &__control {
    align-items: center;
    background-color: colors.$white;
    border: 0.15em solid currentColor;
    border-radius: 50%;
    display: flex;
    height: 1em;
    justify-content: center;
    transform: translateY(-0.05em);
    width: 1em;
    flex-shrink: 0;
  }

  & input:checked + &__control::before {
    transform: scale(1);
  }

  & input:checked + &__control {
    background-color: colors.$blue-dark;
  }

  & input:checked ~ &__label {
    @extend %osg-text--size-kilo, %osg-text--size-juliett-breakpoint-large;
    @extend %osg-text--weight-medium;
    line-height: 1.5em !important;
  }

  & input:focus ~ .osg-radio__control {
    outline: initial;
    outline-style: solid;
    outline-width: 1px;
    outline-color: colors.$blue-state;
  }

  &--hover,
  &:hover,
  &--focus,
  &:focus {
    & input:checked + .osg-radio__control {
      background-color: colors.$blue-state;
    }
    .osg-radio__control {
      border-color: colors.$blue-state;
    }
    .osg-radio__label {
      color: colors.$blue-state;
    }
  }

  &--focus,
  &:focus {
    .osg-radio__label {
      @extend %osg-text--size-kilo, %osg-text--size-juliett-breakpoint-large;
    }
  }

  &--disabled,
  &--disabled:hover {
    & input:disabled:checked + .osg-radio__control {
      background-color: colors.$grayscale-40;
    }
    .osg-radio__control {
      border-color: colors.$grayscale-40;
    }
    .osg-radio__label {
      color: colors.$grayscale-40;
    }
  }
  
  &__error-message {
    @include mixins.error-message;
    
    background-color: colors.$red-30;
    border-left: 0.375rem solid colors.$red;
    display: flex;
    align-items: center;
  }
  
  &__icon {
    @extend %osg-text--size-juliett, %osg-text--size-juliett-breakpoint-large;
    @extend %osg-padding-right-2;
    
    line-height: 1.5rem;

    @include breakpoints.large {
      line-height: 1.75rem;
    }
  }
}

@use "system/colors";
@use "system/icon-map";
@use "system/typography";
@use "system/spacing";
@use "system/units";

.osg-fieldset {
  :last-child {
    @extend %osg-margin-bottom-0;
  }

  &__required {
    @extend %osg-margin-top-1;
    @extend %osg-padding-0;
    @extend %osg-text--size-lima;
    @extend %osg-text--weight-light;
  }

  &__legend {
    @extend %osg-text--size-kilo, %osg-text--size-juliett-breakpoint-large;
    @extend %osg-text--weight-medium;

    width: 100%;

    > * {
      display: block;
      cursor: pointer;
      position: relative;
      text-decoration: none;

      &::after {
        font-family: "Oslo Icons";
        @extend %osg-text--size-golf;

        content: map-get(icon-map.$icons, "plus-sign");
        line-height: inherit;
        position: absolute;
        top: 0;
        right: units.unit-to-rem(1);
      }
    }

    > *.osg-collapsible-trigger--expanded::after {
      content: map-get(icon-map.$icons, "minus-sign");
    }
  }

  &--no-border {
    border: none;
    @extend %osg-padding-0;

    & .osg-fieldset__legend {
      @extend %osg-text--size-kilo, %osg-text--size-juliett-breakpoint-large;
      @extend %osg-text--weight-medium;
      @extend %osg-margin-bottom-3, %osg-padding-bottom-1;
    }
  }

  &--disabled,
  &:disabled {
    & .osg-fieldset__legend {
      color: colors.$grayscale-40;
    }
  }

  &--error {
    border-color: colors.$red;

    & .osg-fieldset__legend {
      color: colors.$red;
    }
  }

  &--filter {
    @extend %osg-margin-bottom-3, %osg-padding-bottom-3;

    border: none;
    border-bottom: 2px solid colors.$blue-dark;

    > .osg-collapsible-content:first-of-type {
      @extend %osg-margin-top-3;
    }

    &:first-of-type {
      & .osg-fieldset__legend {
        @extend %osg-padding-top-3;

        border-top: 2px solid colors.$blue-dark;
      }
    }

    &:last-of-type {
      @extend %osg-margin-bottom-0;
    }
  }
}
